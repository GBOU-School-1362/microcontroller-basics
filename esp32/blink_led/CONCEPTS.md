# Базовые концепции программирования на примере Arduino/ESP32

## 1. Переменная

**Что это?**  
Переменная — это “ящик” для хранения информации (например, числа или текста), с которой работает программа.

**Типы переменных:**
- `int` — целое число (например, 5, -10, 0)
- `float` — число с запятой (например, 3.14, -2.7)
- `bool` — логическое значение (true или false)
- `char` — отдельный символ ('A', 'b', '7')

**Пример:**
```cpp
int myNumber = 5; // переменная myNumber хранит число 5
float temperature = 23.7; // переменная temperature хранит дробное число
bool isOn = true; // переменная-флаг, хранит "включено" или "выключено"
char letter = 'A'; // переменная хранит символ
```
**Зачем нужны типы?**  
Компьютеру нужно знать, с какими данными вы работаете, чтобы правильно их обрабатывать.

---

## 2. Константы: define и const

**Что это?**  
Это значения, которые не меняются в ходе работы программы.

- `#define` — создаёт “замену” текста на этапе компиляции.
- `const` — объявляет переменную, которую нельзя изменить.

**Пример:**
```cpp
#define LED_PIN 2 // LED_PIN всегда заменится на 2
const int MAX_SPEED = 255; // MAX_SPEED — переменная, менять нельзя
```
**Когда использовать?**  
- `#define` — удобно для номеров пинов и простых чисел.
- `const` — если хотите, чтобы переменная имела определённый тип и не менялась в программе.

---

## 3. Условие (if, else, else if)

**Что это?**  
Это “вопрос” программе: если что-то выполняется — делай одно, если нет — делай другое.

**Пример:**
```cpp
if (temperature > 30) {
  // Если температура выше 30 — включить вентилятор
} else if (temperature > 20) {
  // Если температура между 21 и 30 — ничего не делаем
} else {
  // Если 20 и ниже — выключить вентилятор
}
```
**Зачем нужны такие цепочки?**  
Чтобы программа могла реагировать на разные ситуации.

---

## 4. Циклы (for, while)

**for** — повторяет действия заданное количество раз.
**while** — повторяет, пока выполняется условие.

**Примеры:**
```cpp
// for: мигаем светодиодом 10 раз
for (int i = 0; i < 10; i++) {
  digitalWrite(LED_PIN, HIGH);
  delay(100);
  digitalWrite(LED_PIN, LOW);
  delay(100);
}

// while: мигаем, пока кнопка нажата
while (digitalRead(BUTTON_PIN) == LOW) {
  digitalWrite(LED_PIN, HIGH);
  delay(100);
  digitalWrite(LED_PIN, LOW);
  delay(100);
}
```
**Зачем нужны разные циклы?**  
- for — если знаем, сколько раз повторять.
- while — если повторять, пока не изменится условие.

---

## 5. Функция

**Что это?**  
Функция — это “маленькая программа внутри программы”.

**Виды функций:**
- С возвращаемым значением (например, int, float, bool)
- Без возвращаемого значения (`void`)

**Примеры:**
```cpp
// Функция без возвращаемого значения
void blinkLed(int times, int interval) {
  for (int i = 0; i < times; i++) {
    digitalWrite(LED_PIN, HIGH);
    delay(interval);
    digitalWrite(LED_PIN, LOW);
    delay(interval);
  }
}

// Функция с возвращаемым значением
int sum(int a, int b) {
  return a + b; // возвращаем сумму двух чисел
}

bool isButtonPressed() {
  return digitalRead(BUTTON_PIN) == LOW;
}
```

**Что значит void?**  
`void` — означает, что функция ничего не возвращает, а только делает действие.

**Что значит return?**  
`return` — команда, которая возвращает результат работы функции.

---

## 6. Ввод и вывод

**Ввод** — получение данных с датчиков, кнопок, аналоговых входов.  
**Вывод** — управление светодиодами, моторами, экраном.

**Примеры:**
```cpp
// Ввод
int sensorValue = analogRead(A0); // читаем значение с аналогового пина

// Вывод
digitalWrite(LED_PIN, HIGH); // включаем светодиод

// PWM (широтно-импульсная модуляция) — регулировка яркости или скорости
ledcWrite(pwmChannel, 128); // половина яркости (для ESP32)
```
---

## 7. Комментарии

**Что это?**  
Текст, который объясняет, что делает программа.

**Пример:**
```cpp
// Это однострочный комментарий

/*
  Это многострочный комментарий.
  Его удобно использовать для пояснений, описания алгоритма, авторства и т.д.
*/
```

---

## 8. Структура программы Arduino/ESP32

**setup()** — выполняется один раз при запуске, обычно здесь настраивают пины и переменные.  
**loop()** — выполняется снова и снова, здесь основной код программы.

**Пример:**
```cpp
void setup() {
  pinMode(LED_PIN, OUTPUT); // настраиваем пин на выход
}

void loop() {
  digitalWrite(LED_PIN, HIGH); // включаем светодиод
  delay(500);
  digitalWrite(LED_PIN, LOW);  // выключаем светодиод
  delay(500);
}
```
---

## 9. Массивы

**Что это?**  
Массив — это “коробка”, в которой лежит сразу несколько переменных одного типа.

**Пример:**
```cpp
int ledPins[3] = {2, 4, 15}; // массив из трёх номеров пинов

for (int i = 0; i < 3; i++) {
  pinMode(ledPins[i], OUTPUT);
  digitalWrite(ledPins[i], HIGH);
  delay(200);
  digitalWrite(ledPins[i], LOW);
}
```
**Зачем нужны?**  
Чтобы работать с группой одинаковых объектов (например, несколько светодиодов).

---

## 10. Область видимости переменных

**Что это?**  
Где “видна” переменная и где её можно использовать.

**Пример:**
```cpp
int globalVar = 10; // глобальная переменная (видна во всех функциях)

void setup() {
  int localVar = 5; // локальная переменная (видна только в setup)
}
```
**Зачем это знать?**  
Чтобы не было ошибок, когда переменная “не найдена”.

---

## 11. Примеры посложнее

### Пример: функция, которая возвращает максимальное из двух чисел

```cpp
int getMax(int a, int b) {
  if (a > b) {
    return a;
  } else {
    return b;
  }
}

// Использование:
int x = 7;
int y = 12;
int maxValue = getMax(x, y); // maxValue будет равно 12
```

### Пример: условие с несколькими вариантами

```cpp
if (sensorValue > 700) {
  // очень светло
} else if (sensorValue > 400) {
  // средний уровень света
} else {
  // темно
}
```

### Пример: функция, вызывающая другую функцию

```cpp
void loop() {
  int val = analogRead(A0);
  if (isBright(val)) {
    turnOnLed();
  } else {
    turnOffLed();
  }
}

bool isBright(int sensorValue) {
  return sensorValue > 700;
}

void turnOnLed() {
  digitalWrite(LED_PIN, HIGH);
}

void turnOffLed() {
  digitalWrite(LED_PIN, LOW);
}
```

---

## 12. Итоги

- **int** — целое число, **float** — число с запятой, **bool** — true/false, **char** — символ.
- **const** — переменная, которую нельзя поменять. **#define** — быстрая текстовая “замена” для пинов и чисел.
- **void** — функция ничего не возвращает.
- **return** — возвращает результат из функции.
- **Массивы** — удобно для группы одинаковых объектов.
- **setup()** — один раз, **loop()** — снова и снова.
- **Комментарии** — очень важны для понятного кода!

---

**Понимание этих основ — залог того, что вы сможете создавать любые проекты на Arduino и ESP32!**